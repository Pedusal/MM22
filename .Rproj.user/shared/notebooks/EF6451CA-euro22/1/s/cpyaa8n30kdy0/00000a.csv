"0",""
"0","################# luo veikkaustaulu"
"0","veikkaustaulu <- matrix(NA,length(pelaajat),length(pelit)+1)"
"0",""
"0","vt_nimet <- c(1:(length(pelit)+1))"
"0","vt_nimet[1] <- c(""Nimi"")"
"0","vt_nimet[2:(length(pelit)+1)] <- c(pelit)"
"0",""
"0","colnames(veikkaustaulu) <- c(vt_nimet)"
"0","veikkaustaulu <- as.data.frame(veikkaustaulu)"
"0",""
"0","# df = dataframe"
"0","# old.var.name = The name you don't like anymore"
"0","# new.var.name = The name you want to get"
"0",""
"0","#names(veikkaustaulu)[names(veikkaustaulu) == 'Yhteensa'] <- '____'"
"0",""
"0",""
"0","##### lisataan pelaajat veikkaustauluun #######"
"0","veikkaustaulu$Nimi <- pelaajat"
"0",""
"0",""
"0","################# Luo Pistetaulu ###################"
"0",""
"0","pistetaulu <- matrix(NA,length(pelaajat)-1,length(pt_nimet))"
"0","colnames(pistetaulu) <- c(pt_nimet)"
"0","pistetaulu <- as.data.frame(pistetaulu)"
"0","#########################################################################"
"0",""
"0",""
"0",""
"0",""
"0","################ luo Maalintekijä taulu ja täytä se ######################"
"0","maalintekijat <- matrix(NA,length(pelaajat)-1,6)"
"0","colnames(maalintekijat) <- c(""nimi"", ""Maalintekija1"", ""Maalintekija2"", ""Maalintekija3"", ""Maalintekija4"", ""Maalintekija5"")"
"0","maalintekijat <- as.data.frame(maalintekijat)"
"0",""
"0","### sisalto"
"0","for (uu in 2:length(veikkaukset)) {"
"0","  veikkaus <- data.frame(veikkaukset[uu])"
"0","  "
"0","  maalintekijat[uu-1,1] <- veikkaus[[1,5]]"
"0","  "
"0","  veikkaus <- veikkaus %>%   "
"0","  filter(!is.na(veikkaus[,10])"
"0","  )"
"0","         "
"0","  maalintekijat[uu-1,2:6] <- c(veikkaus$...10[2:6])"
"0","}"
"0",""
"0","# luodaan nolla pistettä sisältävä vector ja laitetaan se tauluun"
"0","maalintekijat$Maalit <- c(1:length(maalintekijat))*0"
"0",""
"0","######## lisataan maaleja maalit sarakkeeseen"
"0",""
"0","for (i in 1:length(maalintekijat[,1])) { # haetaan osallistujan maalintekijat"
"0","  pelaajat_maalarit <- c(maalintekijat[i,2:6])"
"0","  "
"0","  for (ii in 1:length(pelaajat_maalarit)) { # haetaan pelaaja"
"0","    maalari <-pelaajat_maalarit[ii]"
"0","    "
"0","    for (iii in 1:length(maaliporssi[,1])) { # katsotaan onko pelaaja maalipörssissa"
"0","      maalintekija <- maaliporssi[iii,1]"
"0","      if (is.na(maalintekija)) {"
"0","        ## do nothing"
"0","      } else if (maalari == maalintekija) { #jos maalari porssissa lisataan pisteita"
"0","        maalintekijat$Maalit[i] <- as.numeric(maalintekijat$Maalit[i]) + "
"0","                                      as.numeric(maaliporssi[iii,3])"
"0","      }"
"0","    }"
"0","    "
"0","  }"
"0","  "
"0","}"
"0",""
"0","###########################################################################"
"0",""
"0",""
